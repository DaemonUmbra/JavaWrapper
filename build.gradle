plugins {
	id 'org.echocat.golang' version '0.1.13'
}

group 'github.com/MinecraftForge/JavaWrapper'
version = project.version
golang {
	platforms = System.getProperty("platforms", project.platforms)
	dependencies {
		build 'github.com/fatih/color'
        	build 'github.com/ulikunitz/xz/lzma'
        	build 'github.com/kardianos/osext'		
	}
	
	build {
		useTemporaryGopath = true
		excludes = ['.git/**', 'build.gradle', 'build/**', '.gradle/**', 'gradle/**']
		outputFilenamePattern = "build/out/" + project.name+ "-" + project.version+ "-%{platform}"
	}

}

/**
 * Removed till I can figure out a san way to do this
task packageApp(type: Tar, dependsOn:["build"]) {
	onlyIf = { golang.parsedPlatforms.contains(Platform.DARWIN_AMD64) }
	comp = Compression.GZIP
	baseName = project.name
	appendex = 'darwin
}
*/

task wrapper(type: Wrapper) {
	gradleVersion = '3.3'
}
