plugins {
  id 'org.echocat.golang' version '0.1.12'
}

group 'github.com/MinecraftForge/JavaWrapper'
version '0.0.1-proof'

golang {
    platforms = System.getProperty("platforms", "windows-amd64,windows-386,darwin-amd64")
    dependencies {
        build 'github.com/fatih/color'
        build 'github.com/ulikunitz/xz/lzma'
    }

    build {
        useTemporaryGopath = true
        excludes = ['.git/**', 'build.gradle', 'build/**', '.gradle/**', 'gradle/**']

    }

}

//task prepBinarys() {
    //dependsOn build
//
//    from("${project.buildDir}/out") {
//	    into("/")
//        include("${project.name}-windows-386.exe")
//        rename("${project.name}-windows-386.exe", "flaw32.exe"
//	}
//	
//	from("${project.buildDir}/out") {
//	    into("/")
//        include("${project.name}-windows-amd64.exe")
//        rename("${project.name}-windows-amd64.exe", "flaw64.exe"
//	}
//	
//	from("${project.buildDir}/out") {
//	    into("/")
//        include("${project.name}-darwin-amd6")
//        rename("${project.name}-darwin-amd6", "flaw-osx"
//	}
//}
